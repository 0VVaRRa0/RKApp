# RKApp

- [Если нет Visual Studio](#если-нет-visual-studio)
- [Клонирование репозитория](#клонирование-репозитория)
- [Настройка Visual Studio](#настройка-visual-studio)
- [Подготовка проекта](#подготовка-проекта)
- [Настройка проекта](#настройка-проекта)
- [Запуск проекта](#запуск-проекта)
- [Примечание](#примечание)

## Если нет Visual Studio
- Зайти на [сайт Майкрософт](https://visualstudio.microsoft.com/ru/vs/community/) и скачать установщик
- После установки запустить Visual Studio Community 2022


## Клонирование репозитория
- В окне выбора проекта нажать ```Clone a repository```
- В поле ```Repository location``` вставить ```https://github.com/0VVaRRa0/RKApp.git```
- Дождаться окончания клонирования


## Настройка Visual Studio
- После того как откроется каталог проекта, закрыть Visual Studio и запустить Visual Studio Installer и нажать кнопку ```More => Import configuration```  
```Файл .vsconfig находится в корне репозитория и содержит список необходимых компонентов Visual Studio.```
- После установки всех необходимых компонентов можно закрыть Visual Studio Installer и снова открыть Visual Studio


## Подготовка проекта
- В Visual Studio выбрать ```Open a local folder``` и указать путь к каталогу проекта
- После того как откроется проект необходимо создать базу данных и установить NuGet пакеты
- Для создания базы данных дважды щёлкнуть на файл ```CreateLocalDB.sql```  
На появившейся вкладке нажать кнопку ```Connect``` и выбрать необходимую базу  данных, например, ```Local/MSSQLLocalDB```.  
    ```Если при подключении базы данных MSSQLLocalDB не отображается, убедитесь, что установлен компонент LocalDB в Visual Studio Installer.```  
    После этого нажать зелёную кнопку ```Execute```. По завершению операции получить  сообщение об успешном создании базы данных.
- Для установки NuGet пакетов необходимо открыть встроенный терминал сочетанием клавиш ```Ctrl + ` ```, либо через вкладку ```View/Terminal```
- В терминале необходимо выполнить команды
    ```PowerShell
    cd .\Payment
    nuget restore .\Payment.csproj -PackagesDirectory .\packages
    ```
    Таким образом будут установлены все необходимые пакеты
- После этого дважды щёлкнуть на файл ```RKapp.sln```, откроется решение


## Настройка проекта
- Выбрать проект ```Payment``` и открыть его свойства (```Alt + Enter```)
- На вкладке ```Web``` необходимо выбрать пункт ```Specific Page``` и указать в поле ввода ```MyInvoices.aspx```
- Для запуска всех трех приложений необходимо настроить решение.  
    Выбрать ```Solution 'RKapp'``` и нажать ```Alt + Enter```.  
    На вкладке ```Configure Startup Projects``` выбрать пункт ```Multiple startup projects```. Для каждого проекта необходимо указать ```Action``` и ```Debug Target```. Также стоит переименовать профиль для удобства.  
    |Project|Action|Debug Target|
    |-|-|-|
    |ServerAPI|Start|http|
    |Accounting|Start|Accounting|
    |Payment|Start|WebServer()|  


## Запуск проекта
- После выполнения всех указанных действий сверху появится кнопка с названием текущего созданного профиля
- Нажать кнопку ```Start```, запустятся все три проекта
---

### Примечание
Так как в решении находятся проекты SDK-style и non SDK-style, то установка пакетов NuGet должна производиться именно способом указанным в пункте подготовки проекта, а не через ```Restore NuGet Packages``` решения.  
